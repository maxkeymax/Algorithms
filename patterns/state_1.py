'''
–°–æ—Å—Ç–æ—è–Ω–∏–µ ‚Äî —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç—É –º–µ–Ω—è—Ç—å
—Å–≤–æ—ë –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

üìå –ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:
–û–±—ä–µ–∫—Ç –≤–µ–¥–µ—Ç —Å–µ–±—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–≤–æ–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.
–í–º–µ—Å—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ if-else –∏–ª–∏ switch ‚Äî –∫–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å.
–ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω—ã.

üìå –ü—Ä–∏–º–µ—Ä—ã –∏–∑ –∂–∏–∑–Ω–∏
–¢–æ—Ä–≥–æ–≤—ã–π –∞–≤—Ç–æ–º–∞—Ç
–ú–æ–∂–µ—Ç –±—ã—Ç—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö: –û–∂–∏–¥–∞–Ω–∏–µ, –í—ã–±–æ—Ä —Ç–æ–≤–∞—Ä–∞, –û–ø–ª–∞—Ç–∞, –í—ã–¥–∞—á–∞ —Ç–æ–≤–∞—Ä–∞.
–í –∫–∞–∂–¥–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∫–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ-—Ä–∞–∑–Ω–æ–º—É.
–î–æ–∫—É–º–µ–Ω—Ç (–ß–µ—Ä–Ω–æ–≤–∏–∫, –ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ, –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω)
–í –ß–µ—Ä–Ω–æ–≤–∏–∫–µ –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, –≤ –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–º ‚Äî —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—Ç—å.
–ò–≥—Ä–æ–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂
–°–æ—Å—Ç–æ—è–Ω–∏—è: –ë–µ–≥, –ü—Ä—ã–∂–æ–∫, –ê—Ç–∞–∫–∞. –ü–æ–≤–µ–¥–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –º–µ–Ω—è–µ—Ç—Å—è.

'''


from abc import ABC, abstractmethod

# –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
class State(ABC):
    @abstractmethod
    def publish(self, document):
        pass

    @abstractmethod
    def render(self):
        pass

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
class Draft(State):
    def publish(self, document):
        print("–ü–µ—Ä–µ–≤–æ–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é")
        document.set_state(Moderation())

    def render(self):
        print("–ü–æ–∫–∞–∑—ã–≤–∞–µ–º —á–µ—Ä–Ω–æ–≤–∏–∫ (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π)")

class Moderation(State):
    def publish(self, document):
        print("–û–¥–æ–±—Ä—è–µ–º –∏ –ø—É–±–ª–∏–∫—É–µ–º –¥–æ–∫—É–º–µ–Ω—Ç")
        document.set_state(Published())

    def render(self):
        print("–ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–æ–∫—É–º–µ–Ω—Ç –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞")

class Published(State):
    def publish(self, document):
        print("–î–æ–∫—É–º–µ–Ω—Ç —É–∂–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω")

    def render(self):
        print("–ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞")

# –ö–æ–Ω—Ç–µ–∫—Å—Ç (–î–æ–∫—É–º–µ–Ω—Ç)
class Document:
    def __init__(self):
        self._state = Draft()  # –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

    def set_state(self, state: State):
        self._state = state

    def publish(self):
        self._state.publish(self)

    def render(self):
        self._state.render()

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
doc = Document()
doc.render()  # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —á–µ—Ä–Ω–æ–≤–∏–∫ (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π)
doc.publish() # –ü–µ—Ä–µ–≤–æ–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é
doc.render()  # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–æ–∫—É–º–µ–Ω—Ç –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
doc.publish() # –û–¥–æ–±—Ä—è–µ–º –∏ –ø—É–±–ª–∏–∫—É–µ–º –¥–æ–∫—É–º–µ–Ω—Ç
doc.render()  # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞
doc.publish() # –î–æ–∫—É–º–µ–Ω—Ç —É–∂–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω